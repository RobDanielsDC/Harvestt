<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Harvestt Network</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css"
      integrity="sha512-4xo8blKMVCiXpTaLzQSLSw3KFOVPWhm/TRtuPVc4WG6kUgjH6J03IBuG7JZPkcWMxJ5huwaBpOpnwYElP/m6wg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="css/globals.css" />
    <link rel="stylesheet" href="https://use.typekit.net/gii5uqu.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital@0;1&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="cursor" class="cursor">
      <div class="cursor__circle"></div>
      <div class="cursor__text">
        <div class="cursor__text__line">View</div>
      </div>
    </div>
    <header class="header">
      <div class="desktop-logobar">
        <img
          src="img/desktopLogoHarvestt.svg"
          alt="Harvestt"
          class="desktop-logobarHarvestt logoLeftOut"
        />
        <img
          src="img/desktoplogoIcon.svg"
          alt="HarvesttIcon"
          class="desktop-logobarIcon"
        />
        <img
          src="img/desktopLogoStudio.svg"
          alt="Studio"
          class="desktop-logobarStudio logoRightOut"
        />
      </div>
      <div class="desktop-bannerbar">
        <div class="desktop-bannerbarMarquee">
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
        </div>
        <div class="desktop-bannerbarMarquee">
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Branding</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Marketing</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
          <span class="desktop-bannerbarText">Web Design</span>
          <img
            src="img/desktopBannerbarIcon.svg"
            alt="Icon"
            class="desktop-bannerbarIcon"
          />
        </div>
      </div>
      <div class="banner">
        <div class="banner-marquee">
          <span class="banner-text">Branding</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
          <span class="banner-text">Web Design</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
          <span class="banner-text">Marketing</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
        </div>
        <div class="banner-marquee">
          <span class="banner-text">Branding</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
          <span class="banner-text">Web Design</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
          <span class="banner-text">Marketing</span>
          <span class="banner-icon"><img src="img/bannerIcon.svg" /> </span>
        </div>
      </div>
      <section id="fly-container" class="hero">
        <img
          class="hero-logo"
          src="img/mobileLogo.svg"
          alt="Harvestt Network Logo"
        />
        <img
          class="hero-decobar"
          src="img/mobileHeaderIconBar.svg"
          alt="decorative bar"
        />
        <div class="hero-text">
          <img
            class="desktop-sunray"
            src="img/desktopSunrayIcon.svg"
            alt="Sunray Icon"
          />
          <div class="hero-textflex">
            <p class="hero-maintext">
              We’re a design & technology partner who cultivates your digital
              presence from the ground up
            </p>
            <p class="hero-bookingtext">→ Now Booking projects for 2024</p>
          </div>
        </div>
        <img
          class="hero-decobar"
          src="img/mobileHeaderIconBar.svg"
          alt="decorative bar"
        />
        <div class="hero-ctas">
          <a href="https://x.com/robably__" class="hero-social">
            <img src="img/TwitterX.svg" alt="Twitter Icon" />
          </a>
          <a href="#" class="hero-button"
            ><svg
              class="arrow-icon"
              width="12"
              height="11"
              viewBox="0 0 12 11"
              fill="#0e170b"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.2846 4.76399L5.5946 1.09199L6.5486 0.0839848L11.7326 5.26799L6.5486 10.452L5.5766 9.42599L9.2846 5.75399L7.4666 6.02399L0.284601 6.02398L0.266601 4.49399L7.4666 4.49399L9.2846 4.76399Z"
              /></svg
            ><span>Say Hello</span>
          </a>
          <a href="https://instagram.com/" class="hero-social">
            <img src="img/Instagram.svg" alt="Instagram Icon" />
          </a>
        </div>
      </section>
    </header>
    <main class="main-lift">
      <section class="featured">
        <article class="featured">
          <div class="badge">Featured</div>
          <img
            class="featured-cardImg"
            src="img/featured-laptop.png"
            alt="Hand with phone in the forest"
          />
          <h1>Bee Friendly Farm</h1>
          <div class="featured-details">
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Industry</h2>
                <p>Great biz</p>
              </div>
            </div>
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Client</h2>
                <p>Cool dudes</p>
              </div>
            </div>
          </div>
        </article>
        <article class="iconCopy">
          <img src="img/LineIconLineSm.png" alt="decorative line" />
          <p class="iconCopy-text">
            We partner with businesses committed to sustainability. Those who
            strive to build a world where we coexist with nature.
          </p>
          <img src="img/LineIconLineSm.png" alt="decorative line" />
        </article>
        <article class="featured">
          <img
            class="featured-cardImg"
            src="img/PhoneForest.png"
            alt="Hand with phone in the forest"
          />
          <h1>Bee Friendly Farm</h1>
          <div class="featured-details">
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Industry</h2>
                <p>Great biz</p>
              </div>
            </div>
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Client</h2>
                <p>Cool dudes</p>
              </div>
            </div>
          </div>
        </article>
        <article class="desktop-iconCopy">
          <img src="img/LineIconLineSm.png" alt="decorative line" />
          <p class="iconCopy-text">
            We partner with businesses committed to sustainability. Those who
            strive to build a world where we coexist with nature.
          </p>
          <img src="img/LineIconLineSm.png" alt="decorative line" />
        </article>
      </section>
      <section class="feels">
        <article class="feels">
          <div class="feels-gallery">
            <img
              src="img/feels-forest.jpeg"
              alt="Forest path"
              class="feels-image"
            />
            <img src="img/feels-lion.jpeg" alt="Lion" class="feels-image" />
            <img
              src="img/feels-treetops.jpeg"
              alt="Treetops"
              class="feels-image"
            />
            <img src="img/feels-owl.jpeg" alt="Owl" class="feels-image" />
            <img
              src="img/feels-autumnforest.jpeg"
              alt="Autumn Forest"
              class="feels-image"
            />
          </div>
          <div class="feels-text">Focus on how it feels, not how it looks
            <a href="#" class="hero-button feels-button">Let's Chat</a>
          </div>

          <div class="feels-gallery">
            <img
              src="img/feels-riverforest.jpeg"
              alt="River forest"
              class="feels-image"
            />
            <img
              src="img/feels-lakedock.jpeg"
              alt="Lake dock"
              class="feels-image"
            />
            <img src="img/feels-bee.jpeg" alt="Bee" class="feels-image" />
            <img
              src="img/feels-polarbear.jpeg"
              alt="Polar bear"
              class="feels-image"
            />
            <img
              src="img/feels-giraffe.jpeg"
              alt="Giraffe"
              class="feels-image"
            />
          </div>
        </article>
      </section>
      <section class="featured">
        <article class="featured">
          <img
            class="featured-cardImg"
            src="img/PhoneForest.png"
            alt="Hand with phone in the forest"
          />
          <h1>Bee Friendly Farm</h1>
          <div class="featured-details">
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Industry</h2>
                <p>Great biz</p>
              </div>
            </div>
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Client</h2>
                <p>Cool dudes</p>
              </div>
            </div>
          </div>
        </article>
        <article class="featured">
          <img
            class="featured-cardImg"
            src="img/PhoneForest.png"
            alt="Hand with phone in the forest"
          />
          <h1>Bee Friendly Farm</h1>
          <div class="featured-details">
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Industry</h2>
                <p>Great biz</p>
              </div>
            </div>
            <div class="featured-detailsGroup">
              <p class="description">
                We designed the branding and website for blah blah blah
              </p>
              <div class="industry">
                <h2>Client</h2>
                <p>Cool dudes</p>
              </div>
            </div>
          </div>
        </article>
      </section>
    </main>
    <footer>
      <div class="bottom-cta">
        <img
          class="bottomcta-graphic"
          src="img/SolarPhase.svg"
          alt="Solar phases"
        />
        <p class="bottomcta">
          Have a project in mind? Feel free to reach<span
            class="desktop-break"
          ></span>
          out anytime.
        </p>
        <a href="#" class="hero-button chatButton">Let's Chat</a>
      </div>
      <img
        class="hero-logo"
        src="img/mobileLogo.svg"
        alt="Harvestt Network Logo"
      />
      <div class="desktop-logobar bottom-logobar">
        <img
          src="img/desktopLogoHarvestt.svg"
          alt="Harvestt"
          class="desktop-logobarHarvestt logoLeftIn"
        />
        <img
          src="img/desktoplogoIcon.svg"
          alt="HarvesttIcon"
          class="desktop-logobarIcon"
        />
        <img
          src="img/desktopLogoStudio.png"
          alt="Studio"
          class="desktop-logobarStudio logoRightIn"
        />
      </div>
    </footer>

    <script src="js/gsap.js"></script>
    <script src="js/ScrollTrigger.js"></script>
    <script src="js/lenis.js"></script>
    <script>
      function getFeelsGalleryDistance() {
        if (window.innerWidth > 768) {
          return 100;
        } else {
          return 30;
        }
      }

      gsap.registerPlugin(ScrollTrigger);

      const logoHarvestt = document.querySelector(".logoLeftOut");
      const logoHarvesttLeftDistance = -(
        logoHarvestt.getBoundingClientRect().width + 100
      );
      const logoStudio = document.querySelector(".logoRightOut");
      const logoStudioRightDistance =
        logoStudio.getBoundingClientRect().width + 100;
      const logoIcon = document.querySelector(".desktop-logobarIcon");
      const logobarTrigger = document.querySelector(".desktop-logobar");

      gsap.to(logoHarvestt, {
        scrollTrigger: {
          trigger: logobarTrigger,
          start: "top 1%",
          end: "bottom 1%",
          scrub: true,
        },
        x: logoHarvesttLeftDistance,
        ease: "power4.in",
        opacity: 0,
        duration: 1,
      });

      gsap.to(logoStudio, {
        scrollTrigger: {
          trigger: logobarTrigger,
          start: "top 1%",
          end: "bottom 1%",
          scrub: true,
        },
        x: logoStudioRightDistance,
        ease: "power4.in",
        opacity: 0,
        duration: 1,
      });

      /* rotate icon and fade out */
      gsap.to(logoIcon, {
        scrollTrigger: {
          trigger: logobarTrigger,
          start: "top 1%",
          end: "bottom 1%",
          scrub: true,
        },
        ease: "power4.in",
        rotation: 180,
        opacity: 0,
        duration: 1,
      });

      function getFeaturedArticleRandomYMovement(format) {
        if (format === "desktop") {
          return -(Math.random() * 12 + 3);
        } else if (format === "mobile") {
          return -(Math.random() * 4 + 3);
        }
      }

      const articles = gsap.utils.toArray("article.featured");

      ScrollTrigger.matchMedia({
        "(min-width: 768px)": function () {
          articles.forEach((article, index) => {
            gsap.to(article, {
              scrollTrigger: {
                trigger: article,
                start: "top 90%",
                end: "bottom 85%",
                scrub: true,
              },
              yPercent: getFeaturedArticleRandomYMovement("desktop"),
              duration: 1,
            });
          });
        },
        "(max-width: 767px)": function () {
          articles.forEach((article, index) => {
            gsap.to(article, {
              scrollTrigger: {
                trigger: article,
                start: "top 90%",
                end: "bottom 85%",
                scrub: true,
              },
              yPercent: getFeaturedArticleRandomYMovement("mobile"),
              duration: 1,
            });
          });
        },
      });

      const feelsGallery = gsap.utils.toArray(".feels-gallery");
      feelsGallery.forEach((gallery, index) => {
        gsap.to(gallery, {
          x: (index % 2 === 0 ? 1 : -1) * getFeelsGalleryDistance(),
          scrollTrigger: {
            trigger: gallery,
            start: "top 90%",
            end: "bottom 30%",
            scrub: true,
          },
        });
      });

      const feelsText = document.querySelector(".feels-text");
      gsap.from(feelsText, {
        scrollTrigger: {
          trigger: feelsText,
          start: "top 80%",
          end: "bottom 60%",
          toggleActions: "restart none none reverse",
        },
        ease: "power1.out",
        opacity: 0,
        duration: 1.5,
      });

      const chatButton = document.querySelector(".chatButton");
      gsap.from(chatButton, {
        scrollTrigger: {
          trigger: chatButton,
          start: "top 85%",
          toggleActions: "restart none none reverse",
        },
        ease: "power1.out",
        opacity: 0,
        duration: 0.2,
      });

      let flyContainer = document.getElementById("fly-container");
      let flyContainerWidth = flyContainer.clientWidth;
      let flyContainerHeight = flyContainer.clientHeight;

      function createFirefly() {
        const firefly = document.createElement("div");
        firefly.classList.add("firefly");
        randomX = Math.random() * flyContainerWidth;
        randomY = Math.random() * flyContainerHeight;

        firefly.style.left = randomX + "px";
        firefly.style.top = randomY + "px";
        flyContainer.appendChild(firefly);
        animateFirefly(firefly, flyContainer);
      }

      function animateFirefly(firefly, container) {
        let posX =
          Math.random() * (container.offsetWidth - firefly.offsetWidth);
        let posY =
          Math.random() * (container.offsetHeight - firefly.offsetHeight);
        let velocityX = (Math.random() - 0.5) * 2;
        let velocityY = (Math.random() - 0.5) * 2;

        function move() {
          // Update position
          posX += velocityX;
          posY += velocityY;

          // Bounce off edges
          if (
            posX <= 0 ||
            posX >= container.offsetWidth - firefly.offsetWidth
          ) {
            velocityX *= -1;
          }
          if (
            posY <= 0 ||
            posY >= container.offsetHeight - firefly.offsetHeight
          ) {
            velocityY *= -1;
          }

          firefly.style.left = `${posX}px`;
          firefly.style.top = `${posY}px`;

          velocityX += (Math.random() - 0.5) / 5;
          velocityY += (Math.random() - 0.5) / 5;

          const maxVelocity = 1.0;
          velocityX = Math.max(Math.min(velocityX, maxVelocity), -maxVelocity);
          velocityY = Math.max(Math.min(velocityY, maxVelocity), -maxVelocity);

          firefly.style.opacity = 0.5 + Math.random() * 0.5;

          requestAnimationFrame(move);
        }

        move();
      }

      const resetFireflies = () => {
        let fireFlies = document.querySelectorAll("div.firefly");
        fireFlies.forEach((fly) => animateFirefly(fly, flyContainer));
      };

      document.addEventListener("DOMContentLoaded", () => {
          let numFireflies = 7;

          for (let i = 0; i < numFireflies; i++) {
            createFirefly();
          }

          const cursor = document.getElementById("cursor");

          document.querySelectorAll('article.featured').forEach((article) => {
            article.addEventListener('mouseenter', () => {
              cursor.classList.add('cursor--hover');
              cursor.style.opacity = 1;
            });
            article.addEventListener('mouseleave', () => {
              cursor.classList.remove('cursor--hover');
              cursor.style.opacity = 0;
            });
            article.addEventListener('mousemove', (e) => {
              const rect = article.getBoundingClientRect();
              console.log(rect);
              const xPos = e.pageX;
              const yPos = e.pageY;
              cursor.style.transform = `translate(${xPos}px, ${yPos}px)`;
            })
          });
        }
      );

      const supportsOverflowClip = CSS.supports('overflow', 'clip');
      if (!supportsOverflowClip) {
        const banner = document.querySelector('.banner');
        banner.style.overflowX = 'hidden';
      }

      document.addEventListener("resize", () => {
        ScrollTrigger.refresh();
      });
      const lenis = new Lenis();

      lenis.on("scroll", (e) => {
        // console.log(e);
      });

      lenis.on("scroll", ScrollTrigger.update);

      gsap.ticker.add((time) => {
        lenis.raf(time * 1000);
      });

      gsap.ticker.lagSmoothing(0);
    </script>
  </body>
</html>
